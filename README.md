# Прогнозирование оттока клиентов в сети отелей «Как в гостях»

Лучшие результаты показала модель: RandomForestClassifier со следующими гипперпараметрами: n_estimators-4,max_depth-16<br/>
Порог примерно равен соотношению классов в тренировочной выборке 1 к 3 - 0.3.<br/>
Результаты:<br/>
F1-0.61<br/>
F1 на тестовой выборке -0.61<br/>

Прибыль компании за год:<br/>
1)Без внедрения депозитов: 44 976 654<br/>
2)С внедрением депозитов: 47 326 894<br/>
Разница: 2 350 240<br/>
Доля клиентов, которые после использования модели внесли депозит и отказались от брони - 0.27<br/>
Доля клиентов, которые после использования модели внесли депозит и не отказались от брони - 0.08<br/>

**Следовательно модель окупает свою разработку - 400 000**. При этом присутсвует 8% людей, которые внесли депозит и при этом не отказываются от брони. В дальнейшем, это может отпугнуть будущих клиентов, так как исходя из описания проекта для привлечения клиентов отель ввел возможность брони без предоплаты. Для решения этой проблемы можно повысить порог, тем самым уменьшить качество модели, что в свою очередь повлечет снижение прибыли в годовом периоде, но из-за меньшей доли "надежных" клиентов, которым требуется внести депозит, в долгосрочной перспективе (2-5 лет) можно принести большую прибыль. Также стоит учитывать репутационные риски.

К примеру, при использовании порога - 0.5 разница в прибыли составила 1 447 600, при этом:<br/>
Доля клиентов, которые после использования модели внесли депозит и отказались от брони - 0.16<br/>
Доля клиентов, которые после использования модели внесли депозит и не отказались от брони - 0.03<br/>

Рекомендация: для решения этой проблемы можно повысить порог, тем самым уменьшить качество модели, что в свою очередь повлечет снижение прибыли в годовом периоде, но из-за меньшей доли "надежных" клиентов, которым требуется внести депозит, в долгосрочной перспективе (2-5 лет) можно принести большую прибыль, так как возможно увеличение количества клиентов.
Стоит провести анализ изменения количества клиентов после внедрения модели с заданным порогом (к примеру, 0.5).<br/>
Общие рекомендации: увеличить выборку, увеличить количество признаков, использовать другие модели машинного обучения, объяснить причину аномалий и по необходимости провести повторный анализ.<br/>

Исходя из работы модели:<br/>
**Портрет «ненадёжного» клиента:**<br/>
<ul>
<li>время между бронированием и преездом примерно 90
<li>не требуется место для автомобиля
<li>гражданство-Португалия
<li>как минимум 1 отмененная бронь
<li>количество специальных отметок меньше 2
<li>6 и более ночей
<li>тип заказчика - Transient
</ul>